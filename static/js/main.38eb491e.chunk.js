(this.webpackJsonpburger_sub=this.webpackJsonpburger_sub||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={BreadTop:"style_BreadTop__1TZEe",Seed:"style_Seed__33RGu",Second:"style_Second__3xT-5",Third:"style_Third__1KS1V",Fourth:"style_Fourth__27hdH",Salad:"style_Salad__1YTs6",Meat:"style_Meat__2sTTk",Cheese:"style_Cheese__2xW0E",Bacon:"style_Bacon__3ZSPI",BreadBottom:"style_BreadBottom__3Vk7a"}},,,,,,,,,function(e,t,n){e.exports={Sidebar:"style_Sidebar__tczcM",Open:"style_Open__1xyfe",Close:"style_Close__2AmIX",Logo:"style_Logo__2m5yx"}},,,function(e,t,n){e.exports={BuildControl:"style_BuildControl__2VBSB",Label:"style_Label__TLv0g",Less:"style_Less__1-Bs_",More:"style_More__QiOEu"}},,,function(e,t,n){e.exports={Toolbar:"style_Toolbar__q9PG_",HideHan:"style_HideHan__3-5vL",HideOnMobile:"style_HideOnMobile__2JtVu"}},,function(e,t,n){e.exports={MenuItem:"style_MenuItem__2TiYs",active:"style_active__6ZJR2"}},,,,function(e,t,n){e.exports={BuildControls:"__BuildControls__3oyxD",OrderButton:"__OrderButton__3EYie",enable:"__enable__2g9Va"}},function(e,t,n){e.exports={Button:"style_Button__1tkuz",Success:"style_Success__3EgCw",Danger:"style_Danger__3rZcj"}},,,,,,,,,,,function(e,t,n){e.exports={main:"style_main__1onOK"}},function(e,t,n){e.exports={Logo:"style_Logo__15xbW"}},function(e,t,n){e.exports={Menu:"style_Menu__d3pJI"}},,function(e,t,n){e.exports={Menu:"style_Menu__3w1rC"}},function(e,t,n){e.exports={Burger:"style_Burger__16mFP"}},function(e,t,n){e.exports={Modal:"style_Modal__3wy7v"}},function(e,t,n){e.exports={Shadow:"style_Shadow__3fMJj"}},function(e,t,n){e.exports={Loader:"style_Loader__MTyPB",load1:"style_load1__22HKH"}},function(e,t,n){e.exports={Order:"style_Order__37qsy"}},function(e,t,n){e.exports={Ship:"style_Ship__3LBt5"}},function(e,t,n){e.exports={Contact:"style_Contact__3P5f5"}},function(e,t,n){e.exports={Login:"style_Login__3xaLg",Contact:"style_Contact__2HqL0"}},function(e,t,n){e.exports={Login:"style_Login__1AK1t",Contact:"style_Contact__25Dp1"}},,function(e,t,n){e.exports=n(87)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),l=n.n(o),c=(n(64),n(12)),u=n(13),s=n(15),i=n(14),d=n(44),m=n.n(d),g=n(26),p=n.n(g),E=n(45),_=n.n(E),h=function(e){return a.a.createElement("div",{className:_.a.Logo},a.a.createElement("img",{src:"https://image.freepik.com/free-vector/burger-logo-design_9845-25.jpg",alt:"logo"}))},b=n(46),f=n.n(b),O=n(28),S=n.n(O),y=n(10),v=function(e){return a.a.createElement("li",{className:S.a.MenuItem,onClick:e.togle},a.a.createElement(y.b,{exact:e.exact,activeClassName:S.a.active,to:e.link},e.children))},R=n(3),j=Object(R.b)((function(e){return{userId:e.authReducer.userId}}))((function(e){return a.a.createElement("div",null,a.a.createElement("ul",{className:f.a.Menu},e.userId?a.a.createElement(r.Fragment,null,a.a.createElement(v,{exact:!0,link:"/",togle:e.togle},"\u0411\u0423\u0420\u0413\u0415\u0420"),a.a.createElement(v,{link:"/orders",togle:e.togle},"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0443\u0443\u0434"),a.a.createElement(v,{link:"/logout",togle:e.togle},"\u0413\u0410\u0420\u0410\u0425")):a.a.createElement(r.Fragment,null,a.a.createElement(v,{link:"/login",togle:e.togle},"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"),a.a.createElement(v,{link:"/signup",togle:e.togle},"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425"))))})),N=n(48),I=n.n(N),T=function(e){return a.a.createElement("div",{onClick:e.togleSidebar,className:I.a.Menu},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},C=function(e){return a.a.createElement("header",{className:p.a.Toolbar},a.a.createElement("div",{className:p.a.HideHan,style:{height:"100%"}},a.a.createElement(T,{togleSidebar:e.togleSidebar})),a.a.createElement(h,null),a.a.createElement("nav",{className:p.a.HideOnMobile},a.a.createElement(j,null)))},w=n(11),k=n.n(w),D=function(e){return"BreadTop"===e.type?a.a.createElement("div",{className:k.a.BreadTop},a.a.createElement("div",{className:k.a.Seed}),a.a.createElement("div",{className:"".concat(k.a.Seed," ").concat(k.a.Second)}),a.a.createElement("div",{className:"".concat(k.a.Seed," ").concat(k.a.Third)}),a.a.createElement("div",{className:"".concat(k.a.Seed," ").concat(k.a.Fourth)})):a.a.createElement("div",{className:k.a[e.type]})},L=n(49),x=n.n(L),B=n(4),M=Object(R.b)((function(e){return{ingredient:e.burgerReducer.ingredient}}))(Object(B.g)((function(e){var t=Object.entries(e.ingredient),n=[];return t.forEach((function(e){for(var t=0;t<e[1];t++)n.push(a.a.createElement(D,{key:e[0]+t,type:e[0]}))})),0===n.length&&(n=a.a.createElement("p",{style:{fontWeight:"bold"}},"\u0425\u0430\u0447\u0438\u0440\u0430\u0430 \u0441\u043e\u043d\u0433\u043e \u043c\u043e\u0439")),a.a.createElement("div",{className:x.a.Burger},a.a.createElement(D,{type:"BreadTop"}),n,a.a.createElement(D,{type:"BreadBottom"}))}))),U=n(1),A=n(32),P=n.n(A),H=n(23),G=n.n(H),F=function(e){return a.a.createElement("div",{className:G.a.BuildControl},a.a.createElement("div",{className:G.a.Label},e.orts),a.a.createElement("button",{disabled:e.dis[e.type],className:G.a.Less,onClick:function(){return e.ortsHasah(e.type)}},"\u0425\u0430\u0441\u0430\u0445"),a.a.createElement("button",{className:G.a.More,onClick:function(){return e.ortsNemeh(e.type)}},"\u041d\u044d\u043c\u044d\u0445"))},W=Object(R.b)((function(e){return{burgerOrts:e.burgerReducer.ingredient,total:e.burgerReducer.totalPrice}}),(function(e){return{ortsNem:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ortsNer:e}}(t))},ortsHas:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ortsNer:e}}(t))}}}))((function(e){var t=Object(U.a)({},e.burgerOrts);for(var n in t)t[n]=t[n]<=0;return a.a.createElement("div",{className:P.a.BuildControls},a.a.createElement("p",{style:{fontWeight:"bold"}},"\u0411\u04af\u0440\u0433\u044d\u0440\u0438\u0439\u043d \u04af\u043d\u044d: ",e.total),a.a.createElement(F,{dis:t,type:"Salad",orts:"\u0421\u0430\u043b\u0430\u0434",ortsNemeh:e.ortsNem,ortsHasah:e.ortsHas}),a.a.createElement(F,{dis:t,type:"Bacon",orts:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",ortsNemeh:e.ortsNem,ortsHasah:e.ortsHas}),a.a.createElement(F,{dis:t,type:"Cheese",orts:"\u0411\u044f\u0441\u043b\u0430\u0433\u0430",ortsNemeh:e.ortsNem,ortsHasah:e.ortsHas}),a.a.createElement(F,{dis:t,type:"Meat",orts:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",ortsNemeh:e.ortsNem,ortsHasah:e.ortsHas}),a.a.createElement("button",{onClick:e.modalTogle,disabled:1e3===e.total,className:P.a.OrderButton},"\u0417\u0430\u0445\u0438\u0430\u043b\u0430\u0445"))})),J=n(50),V=n.n(J),q=n(51),K=n.n(q),Q=function(e){return e.show?a.a.createElement("div",{onClick:e.togle,className:K.a.Shadow}):null},X=function(e){return a.a.createElement("div",null,a.a.createElement(Q,{show:e.modal,togle:e.modalTogle}),a.a.createElement("div",{style:{transform:e.modal?"translateY(0)":"translateY(100vh)",opacity:e.modal?1:0},className:V.a.Modal},e.children))},Y=n(33),z=n.n(Y),Z=function(e){return a.a.createElement("button",{onClick:e.do,className:"".concat(z.a.Button," ").concat(z.a[e.btnType])},e.text)},$=Object(R.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredient:e.burgerReducer.ingredient}}))((function(e){return a.a.createElement("div",null,a.a.createElement("h3",null,"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"),a.a.createElement("p",null,"\u0422\u0430\u043d\u044b \u0431\u04af\u0442\u044d\u044d\u0441\u044d\u043d \u0431\u04af\u0440\u0433\u044d\u0440\u0438\u0439\u043d \u043e\u0440\u0446:"),a.a.createElement("ul",null,Object.keys(e.ingredient).map((function(t){return a.a.createElement("li",{key:e.names[t]},e.names[t]," : ",e.ingredient[t])}))),a.a.createElement("p",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u0434\u04af\u043d: ",a.a.createElement("strong",null,e.price,"\u20ae")),a.a.createElement(Z,{do:e.modalTogle,btnType:"Danger",text:"\u0422\u0410\u0422\u0413\u0410\u041b\u0417\u0410\u0425"}),a.a.createElement(Z,{do:e.urgeljluul,btnType:"Success",text:"\u04ae\u0420\u0413\u042d\u041b\u0416\u041b\u04ae\u04ae\u041b\u042d\u0425"}))})),ee=n(52),te=n.n(ee),ne=function(){return a.a.createElement("div",{className:te.a.Loader})},re={Bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",Cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",Meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",Salad:"\u0421\u0430\u043b\u0430\u0434"},ae=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={modal:!1,loading:!1,loadingModal:!1},e.modalTogle=function(){return e.setState((function(e){return{modal:!e.modal}}))},e.urgeljluul=function(){e.props.history.push("/ship"),e.modalTogle()},e}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(X,{modalTogle:this.modalTogle,modal:this.state.modal},this.state.loadingModal?a.a.createElement(ne,null):a.a.createElement($,{modalTogle:this.modalTogle,urgeljluul:this.urgeljluul,names:re})),this.state.loading&&a.a.createElement(ne,null),a.a.createElement(M,null),a.a.createElement(W,{modalTogle:this.modalTogle}))}}]),n}(r.Component),oe=n(20),le=n.n(oe),ce=function(e){var t=[le.a.Sidebar,le.a.Close];return e.showSidebar&&(t=[le.a.Sidebar,le.a.Open]),a.a.createElement("div",null,a.a.createElement(Q,{show:e.showSidebar,togle:e.togleSidebar}),a.a.createElement("div",{className:t.join(" ")},a.a.createElement("div",{className:le.a.Logo},a.a.createElement(h,null)),a.a.createElement(j,{togle:e.togleSidebar})))},ue=n(19),se=n.n(ue),ie=se.a.create({baseURL:"https://burger-2b488.firebaseio.com/"}),de=function(){return{type:"LOAD_ORDER_START"}},me=function(e){return{type:"LOAD_ORDER_SUCCESS",data:e}},ge=function(e){return{type:"LOAD_ORDER_ERROR",error:e}},pe=function(){return{type:"SEND_ORDER_START"}},Ee=function(){return{type:"SEND_ORDER_SUCCESS"}},_e=function(e){return{type:"SEND_ORDER_ERROR",error:e}},he=n(53),be=n.n(he),fe=function(e){return a.a.createElement("div",{className:be.a.Order},a.a.createElement("p",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u04af\u043d\u044d: ",a.a.createElement("strong",null," ",e.data.dun,"\u20ae")),a.a.createElement("p",null,"\u041e\u0440\u0446: ",a.a.createElement("br",null),"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445: ",e.data.orts.Bacon," ",a.a.createElement("br",null),"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445: ",e.data.orts.Meat," ",a.a.createElement("br",null),"\u0411\u044f\u0441\u043b\u0430\u0433: ",e.data.orts.Cheese," ",a.a.createElement("br",null),"\u0421\u0430\u043b\u0430\u0434: ",e.data.orts.Salad),a.a.createElement("p",null,e.data.info.name))},Oe=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadOrder(this.props.userId)}},{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading?a.a.createElement(ne,null):this.props.orders.map((function(e){return a.a.createElement(fe,{key:e[0],data:e[1]})})))}}]),n}(a.a.Component),Se=Object(R.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,userId:e.authReducer.userId}}),(function(e){return{loadOrder:function(t){return e(function(e){return function(t,n){t(de());var r=n().authReducer.token;ie.get("/orders.json?auth=".concat(r,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){t(me(Object.entries(e.data).reverse()))})).catch((function(e){return t(ge(e))}))}}(t))}}}))(Oe),ye=n(54),ve=n.n(ye),Re=n(55),je=n.n(Re),Ne=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={name:null,phoneNumber:null,address:{duureg:null,bair:null},loading:!1},e.changeName=function(t){return e.setState({name:t.target.value})},e.changePhone=function(t){return e.setState({phoneNumber:t.target.value})},e.changeDuureg=function(t){return e.setState({address:{duureg:t.target.value}})},e.changeBair=function(t){var n=t.target.value;e.setState((function(e){return{address:{duureg:e.address.duureg,bair:n}}}))},e.sendOrder=function(){var t={userId:e.props.userId,orts:e.props.ingredient,dun:e.props.price,info:{name:e.state.name,phoneNumber:e.state.phoneNumber,address:{duureg:e.state.address.duureg,bair:e.state.address.bair}}};e.props.sendOrderToFB(t)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){null===this.props.newOrderStatus.error&&this.props.newOrderStatus.finished&&this.props.history.replace("/orders")}},{key:"render",value:function(){return a.a.createElement("div",{className:je.a.Contact},a.a.createElement("div",null,"\u04ae\u043d\u044d: ",this.props.price,"\u20ae"),a.a.createElement("div",null,this.props.newOrderStatus.error&&"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430: ".concat(this.props.newOrderStatus.error)),this.props.newOrderStatus.saving?a.a.createElement(ne,null):a.a.createElement("div",null,a.a.createElement("input",{onChange:this.changeName,type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),a.a.createElement("input",{onChange:this.changePhone,type:"text",name:"phoneNumber",placeholder:"\u0425\u043e\u043b\u0431\u043e\u0433\u0434\u043e\u0445 \u0443\u0442\u0430\u0441"}),a.a.createElement("input",{onChange:this.changeDuureg,type:"text",name:"Duureg",placeholder:"\u0414\u04af\u04af\u0440\u044d\u0433"}),a.a.createElement("input",{onChange:this.changeBair,type:"text",name:"Bair",placeholder:"\u0411\u0430\u0439\u0440"}),a.a.createElement(Z,{do:this.sendOrder,btnType:"Success",text:"\u0418\u041b\u0413\u042d\u042d\u0425"})))}}]),n}(a.a.Component),Ie=Object(R.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredient:e.burgerReducer.ingredient,newOrderStatus:e.orderReducer.newOrder,userId:e.authReducer.userId}}),(function(e){return{sendOrderToFB:function(t){return e(function(e){return function(t,n){t(pe());var r=n().authReducer.token;ie.post("/orders.json?auth=".concat(r),e).then((function(e){return t(Ee())})).catch((function(e){return t(_e(e))}))}}(t))}}}))(Object(B.g)(Ne)),Te=Object(R.b)((function(e){return{price:e.burgerReducer.totalPrice}}))((function(e){return a.a.createElement("div",{className:ve.a.Ship},a.a.createElement("div",{style:{marginBottom:30}},a.a.createElement("strong",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u04af\u043d\u044d: ",e.price,"\u20ae")),a.a.createElement(M,null),a.a.createElement(Z,{do:function(){return e.history.goBack()},btnType:"Danger",text:"\u0426\u0423\u0426\u041b\u0410\u0425"}),a.a.createElement(Z,{do:function(){e.history.push("/ship/contact")},btnType:"Success",text:"\u0418\u041b\u0413\u042d\u042d\u0425"}),a.a.createElement(B.b,{path:"/ship/contact/"},a.a.createElement(Ie,null)))})),Ce=n(16),we=n(56),ke=n.n(we),De=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),{type:"LOGOUT"}},Le=function(e){return function(t){setTimeout((function(){return t(De())}),e)}},xe=function(){return{type:"LOGIN_USER_START"}},Be=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},Me=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Ue=Object(R.b)((function(e){return{isLogin:e.authReducer.isLogin,error:e.authReducer.loginError,userId:e.authReducer.userId}}),(function(e){return{loginUser:function(t,n){return e(function(e,t){return function(n){var r={email:e,password:t,returnSecureToken:!0};n(xe()),se.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDXeI-OQDc8ErWtejviKaJQCqFaRk9pSdg",r).then((function(e){var t=e.data.idToken,r=e.data.localId,a=e.data.expiresIn,o=(new Date).getTime()+a,l=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",r),localStorage.setItem("expiresDate",o),localStorage.setItem("refreshToken",l),n(Be(t,r)),n(Le(4e3*a))})).catch((function(e){return n(Me(e))}))}}(t,n))}}}))((function(e){var t=Object(r.useState)("telmuun@gmail.com"),n=Object(Ce.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)("123456"),u=Object(Ce.a)(c,2),s=u[0],i=u[1];return a.a.createElement("div",{className:ke.a.Login},e.userId&&a.a.createElement(B.a,{to:"/orders"}),a.a.createElement("input",{type:"text",placeholder:"email",onChange:function(e){return l(e.target.value)},value:o}),a.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){return i(e.target.value)},value:s}),e.error&&a.a.createElement("div",{style:{color:"red"}},e.error),a.a.createElement(Z,{do:function(){e.loginUser(o,s)},btnType:"Success",text:"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"}))})),Ae=n(57),Pe=n.n(Ae),He=function(){return{type:"SIGNUP_USER_START"}},Ge=function(e){var t=e.idToken,n=e.localId;return localStorage.setItem("token",t),localStorage.setItem("userId",n),{type:"SIGNUP_USER_SUCCESS",token:t,userId:n}},Fe=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},We=Object(R.b)((function(e){return{saving:e.authReducer.saving,errOfRes:e.authReducer.signupError,userId:e.authReducer.userId}}),(function(e){return{signupUser:function(t,n){return e(function(e,t){return function(n){var r={email:e,password:t,returnSecureToken:!0};n(He()),se.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDXeI-OQDc8ErWtejviKaJQCqFaRk9pSdg",r).then((function(e){return n(Ge(e.data))})).catch((function(e){return n(Fe(e))}))}}(t,n))}}}))((function(e){var t=Object(r.useState)("telmuun@gmail.com"),n=Object(Ce.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)("123456"),u=Object(Ce.a)(c,2),s=u[0],i=u[1],d=Object(r.useState)("123456"),m=Object(Ce.a)(d,2),g=m[0],p=m[1],E=Object(r.useState)(null),_=Object(Ce.a)(E,2),h=_[0],b=_[1];return a.a.createElement("div",{className:Pe.a.Login},e.userId&&a.a.createElement(B.a,{to:"orders"}),a.a.createElement("input",{type:"text",placeholder:"email",onChange:function(e){return l(e.target.value)},value:o}),a.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){return i(e.target.value)},value:s}),a.a.createElement("input",{type:"password",placeholder:"Confirm password",onChange:function(e){return p(e.target.value)},value:g}),h&&a.a.createElement("div",{style:{color:"red"}},h),e.errOfRes&&a.a.createElement("div",{style:{color:"red"}},e.errOfRes),e.saving&&a.a.createElement(ne,null),a.a.createElement(Z,{do:function(){s===g?e.signupUser(o,s):b("\u041d\u0443\u0443\u0446 \u04af\u0433 \u0442\u0430\u0430\u0440\u0441\u0430\u043d\u0433\u04af\u0439!")},btnType:"Success",text:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"}))})),Je=Object(R.b)(null,(function(e){return{logout:function(){return e(De())}}}))((function(e){return Object(r.useEffect)((function(){e.logout()})),a.a.createElement(B.a,{to:"/"})})),Ve=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showSidebar:!1},e.togleSidebar=function(){e.setState((function(e){return{showSidebar:!e.showSidebar}}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("userId"),n=new Date(localStorage.getItem("expiresDate"));e&&(n>new Date?(this.props.autoLogin(e,t),this.props.autoLogout(n.getTime()-(new Date).getTime())):this.props.logout())}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(C,{togleSidebar:this.togleSidebar}),a.a.createElement(ce,{showSidebar:this.state.showSidebar,togleSidebar:this.togleSidebar}),a.a.createElement("main",{className:m.a.main},this.props.userId?a.a.createElement(B.d,null,a.a.createElement(B.b,{path:"/logout",component:Je}),a.a.createElement(B.b,{path:"/orders",component:Se}),a.a.createElement(B.b,{path:"/ship",component:Te}),a.a.createElement(B.b,{path:"/",component:ae})):a.a.createElement(B.d,null,a.a.createElement(B.b,{path:"/signup",component:We}),a.a.createElement(B.b,{path:"/login",component:Ue}),a.a.createElement(B.a,{to:"login"}))))}}]),n}(a.a.Component),qe=Object(R.b)((function(e){return{userId:e.authReducer.userId}}),(function(e){return{autoLogin:function(t,n){return e(Be(t,n))},login:function(){return e(De())},autoLogout:function(t){return e(Le())}}}))(Ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=n(17),Qe=n(58),Xe=n(22),Ye={ingredient:{Cheese:0,Meat:0,Salad:0,Bacon:0},totalPrice:1e3},ze={Cheese:2500,Meat:3500,Salad:2500,Bacon:3e3},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;return"ADD_INGREDIENT"===t.type?{ingredient:Object(U.a)(Object(U.a)({},e.ingredient),{},Object(Xe.a)({},t.ortsNer,e.ingredient[t.ortsNer]+1)),totalPrice:e.totalPrice+ze[t.ortsNer]}:"REMOVE_INGREDIENT"===t.type?{ingredient:Object(U.a)(Object(U.a)({},e.ingredient),{},Object(Xe.a)({},t.ortsNer,e.ingredient[t.ortsNer]-1)),totalPrice:e.totalPrice-ze[t.ortsNer]}:e},$e={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDER_START":return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case"LOAD_ORDER_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{orders:t.data,loading:!1,error:null});case"LOAD_ORDER_ERROR":return Object(U.a)(Object(U.a)({},e),{},{loading:!1,error:t.error});case"SEND_ORDER_START":return Object(U.a)(Object(U.a)({},e),{},{newOrder:Object(U.a)(Object(U.a)({},e.newOrder),{},{saving:!0})});case"SEND_ORDER_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{newOrder:Object(U.a)(Object(U.a)({},e.newOrder),{},{saving:!1,finished:!0})});case"SEND_ORDER_ERROR":return Object(U.a)(Object(U.a)({},e),{},{newOrder:Object(U.a)(Object(U.a)({},e.newOrder),{},{saving:!1,finished:!0,error:t.error})});default:return e}},tt={saving:!1,signupError:null,token:null,userId:null,isLogin:!1,loginError:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(U.a)(Object(U.a)({},e),{},{saving:!0});case"SIGNUP_USER_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{saving:!1,token:t.token,userId:t.userId,signupError:null});case"SIGNUP_USER_ERROR":return Object(U.a)(Object(U.a)({},e),{},{saving:!1,signupError:t.error.response.data.error.message});case"LOGIN_USER_START":return Object(U.a)(Object(U.a)({},e),{},{isLogin:!0});case"LOGIN_USER_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{isLogin:!1,token:t.token,userId:t.userId,loginError:null});case"LOGIN_USER_ERROR":return Object(U.a)(Object(U.a)({},e),{},{isLogin:!1,loginError:t.error.response.data.error.message});case"LOGOUT":return Object(U.a)(Object(U.a)({},e),{},{token:null,error:null,userId:null});default:return e}},rt=Object(Ke.c)({orderReducer:et,burgerReducer:Ze,authReducer:nt}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ke.d,ot=[function(e){return function(t){return function(n){console.log("Middleware: Dispatching=> ",n),console.log("Middleware: state before=> ",e.getState());var r=t(n);return console.log("Middleware: state after=> ",e.getState()),r}}},Qe.a],lt=Object(Ke.e)(rt,at(Ke.a.apply(void 0,ot)));l.a.render(a.a.createElement(R.a,{store:lt},a.a.createElement(a.a.StrictMode,null,a.a.createElement(y.a,null,a.a.createElement(qe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[59,1,2]]]);
//# sourceMappingURL=main.38eb491e.chunk.js.map